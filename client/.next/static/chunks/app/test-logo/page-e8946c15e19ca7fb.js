(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{846:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});let s=(0,a(7990).UU)("https://scbwseltwscuplhnmcyu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjYndzZWx0d3NjdXBsaG5tY3l1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ1MTYsImV4cCI6MjA2ODg2MDUxNn0.VgC2Oxx0-fjT2B4MljwxH_FUukBAP7TDGP4b50i-PEk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},1219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(3365),r=a(1521),l=a(3060),o=a(3333),i=a(5166),n=a(4277);function c(){let[e,t]=(0,r.useState)(!1),[a,c]=(0,r.useState)([]);return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Teste - Sistema de Upload de Logotipos"}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"\uD83D\uDCC1 Logotipos"}),(0,s.jsxs)(o.A,{onClick:()=>t(!0),className:"flex items-center gap-2",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),"Adicionar Logotipo"]})]}),(0,s.jsx)(n.A,{logos:a,onLogoUpdated:(e,t)=>{let s=[...a];s[e]=t,c(s)},onLogoRemoved:e=>{c(a.filter((t,a)=>a!==e))}})]}),(0,s.jsx)(i.A,{isOpen:e,onClose:()=>t(!1),onLogoAdded:e=>{c([...a,e])}}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded",children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Debug - Logos Carregados:"}),(0,s.jsx)("pre",{className:"text-xs",children:JSON.stringify(a,null,2)})]})]})}},1872:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7982).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2001:(e,t,a)=>{Promise.resolve().then(a.bind(a,1219))},3060:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7982).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4277:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(3365),r=a(1521),l=a(6309),o=a(1872);let i=(0,a(7982).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var n=a(7521),c=a(3333),d=a(7043);function m(e){let{logos:t,onLogoUpdated:a,onLogoRemoved:m}=e,[u,x]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(null),j={principal_colorida:"Principal Colorida",monocromatica_preta:"Monocrom\xe1tica Preta",monocromatica_branca:"Monocrom\xe1tica Branca",escala_cinza:"Escala de Cinza"},f=()=>{if(null===u)return;let e={...t[u],application_notes:h};a(u,e),x(null),p("")},v=()=>{x(null),p("")},y=async e=>{if(confirm("Tem certeza que deseja remover este logotipo?")){b(e);try{let a=t[e];if(a.storage_path){let e=await (0,d.F_)(a.storage_path);e.success||console.warn("Erro ao remover arquivo do storage:",e.error)}m(e)}catch(e){console.error("Erro ao remover logo:",e),alert("Erro ao remover logotipo. Tente novamente.")}finally{b(null)}}};return 0===t.length?(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF7"}),(0,s.jsx)("p",{className:"text-sm",children:"Nenhum logotipo adicionado ainda."}),(0,s.jsx)("p",{className:"text-xs mt-1",children:'Clique em "Adicionar Logotipo" para come\xe7ar.'})]}):(0,s.jsx)("div",{className:"space-y-4",children:t.map((e,a)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)("span",{className:"text-2xl",children:(e=>{let t=null==e?void 0:e.toLowerCase();return"svg"===t?"\uD83C\uDFA8":"png"===t||"jpg"===t||"jpeg"===t?"\uD83D\uDDBCï¸":"pdf"===t?"\uD83D\uDCC4":"\uD83D\uDCC1"})(e.format)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:j[e.version]||e.version}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,s.jsx)("span",{children:e.file_name}),(0,s.jsx)("span",{children:(e=>{if(!e)return"N/A";let t=e/1024;if(t<1024)return"".concat(t.toFixed(1)," KB");let a=t/1024;return"".concat(a.toFixed(1)," MB")})(e.size_bytes)}),(0,s.jsx)("span",{className:"uppercase",children:e.format})]})]})]}),e.file_url&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("img",{src:e.file_url,alt:"Logo ".concat(j[e.version]),className:"h-16 w-auto border border-gray-200 rounded",onError:e=>{e.target.style.display="none"}})}),u===a?(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas de Aplica\xe7\xe3o"}),(0,s.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:"Ex: Use apenas em fundos claros, mantenha propor\xe7\xe3o...",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(c.A,{onClick:f,className:"text-xs px-3 py-1",children:"Salvar"}),(0,s.jsx)(c.A,{onClick:v,variant:"secondary",className:"text-xs px-3 py-1",children:"Cancelar"})]})]}):e.application_notes&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.application_notes,'"']})}),e.uploaded_at&&(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Adicionado em ",new Date(e.uploaded_at).toLocaleDateString("pt-BR")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ml-4",children:[e.file_url&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>{e.file_url&&window.open(e.file_url,"_blank")},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Visualizar",children:(0,s.jsx)(l.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>(e=>{if(e.file_url){let t=document.createElement("a");t.href=e.file_url,t.download=e.file_name||"logo",document.body.appendChild(t),t.click(),document.body.removeChild(t)}})(e),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"Baixar",children:(0,s.jsx)(o.A,{className:"w-4 h-4"})})]}),(0,s.jsx)("button",{onClick:()=>{x(a),p(t[a].application_notes||"")},disabled:u===a,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-md transition-colors disabled:opacity-50",title:"Editar notas",children:(0,s.jsx)(i,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>y(a),disabled:g===a,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50",title:"Remover",children:g===a?(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):(0,s.jsx)(n.A,{className:"w-4 h-4"})})]})]})},a))})}},6309:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7982).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7521:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7982).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7982:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(1521);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:a,strokeWidth:n?24*Number(i)/Number(r):i,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),n=(e,t)=>{let a=(0,s.forwardRef)((a,o)=>{let{className:n,...c}=a;return(0,s.createElement)(i,{ref:o,iconNode:t,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...c})});return a.displayName=r(e),a}}},e=>{e.O(0,[990,166,347,508,358],()=>e(e.s=2001)),_N_E=e.O()}]);