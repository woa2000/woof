(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{2889:(e,t,a)=>{Promise.resolve().then(a.bind(a,3876))},3876:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CalendarioErrorState:()=>E,CalendarioLoadingState:()=>C,default:()=>k});var s=a(3365),r=a(1521);function o(e){var t,a;let{filtros:o,onFilterChange:i,onResetFiltros:n,viewMode:l,onViewModeChange:d,selectedDate:c,onDateChange:m,onCreateEvento:u,onShowPresets:h,onToggleInsights:x,onToggleSugestoes:g,isLoading:v,totalEventos:b}=e,[p,j]=(0,r.useState)(!1),f=e=>{let t=new Date(c);"prev"===e?t.setMonth(t.getMonth()-1):t.setMonth(t.getMonth()+1),m(t)};return(0,s.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Calend\xe1rio de Sazonalidades"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>f("prev"),disabled:v,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md disabled:opacity-50",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 capitalize",children:c.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[b," eventos"]})]}),(0,s.jsx)("button",{onClick:()=>f("next"),disabled:v,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-md disabled:opacity-50",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,s.jsx)("button",{onClick:()=>{m(new Date)},className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md",children:"Hoje"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex bg-gray-100 rounded-md p-1",children:["monthly","weekly","daily"].map(e=>(0,s.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1 text-sm rounded-md transition-colors ".concat(l===e?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"monthly"===e?"M\xeas":"weekly"===e?"Semana":"Dia"},e))}),(0,s.jsxs)("button",{onClick:x,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Insights"]}),(0,s.jsxs)("button",{onClick:h,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14-4h-9m5 8H5m14-4h-9"})}),"Presets"]}),(0,s.jsxs)("button",{onClick:g,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Sugest\xf5es IA"]}),(0,s.jsxs)("button",{onClick:u,disabled:v,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Novo Evento"]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("select",{value:o.categoria_pet||"",onChange:e=>i({categoria_pet:e.target.value||void 0}),className:"block rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"",children:"Todas as Categorias"}),(0,s.jsx)("option",{value:"cachorro",children:"Cachorro"}),(0,s.jsx)("option",{value:"gato",children:"Gato"}),(0,s.jsx)("option",{value:"pet_exotico",children:"Pet Ex\xf3tico"}),(0,s.jsx)("option",{value:"geral",children:"Geral"})]}),(0,s.jsxs)("select",{value:o.prioridade||"",onChange:e=>i({prioridade:e.target.value||void 0}),className:"block rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"",children:"Todas as Prioridades"}),(0,s.jsx)("option",{value:"alta",children:"Alta"}),(0,s.jsx)("option",{value:"media",children:"M\xe9dia"}),(0,s.jsx)("option",{value:"baixa",children:"Baixa"})]}),(0,s.jsxs)("select",{value:o.mes||"",onChange:e=>i({mes:e.target.value||void 0}),className:"block rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"",children:"Todos os Meses"}),(0,s.jsx)("option",{value:"1",children:"Janeiro"}),(0,s.jsx)("option",{value:"2",children:"Fevereiro"}),(0,s.jsx)("option",{value:"3",children:"Mar\xe7o"}),(0,s.jsx)("option",{value:"4",children:"Abril"}),(0,s.jsx)("option",{value:"5",children:"Maio"}),(0,s.jsx)("option",{value:"6",children:"Junho"}),(0,s.jsx)("option",{value:"7",children:"Julho"}),(0,s.jsx)("option",{value:"8",children:"Agosto"}),(0,s.jsx)("option",{value:"9",children:"Setembro"}),(0,s.jsx)("option",{value:"10",children:"Outubro"}),(0,s.jsx)("option",{value:"11",children:"Novembro"}),(0,s.jsx)("option",{value:"12",children:"Dezembro"})]}),(0,s.jsxs)("button",{onClick:()=>j(!p),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Filtros",p?(0,s.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):(0,s.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),(o.categoria_pet||o.prioridade||o.mes||(null==(t=o.tags)?void 0:t.length))&&(0,s.jsxs)("button",{onClick:n,className:"inline-flex items-center px-3 py-2 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Limpar Filtros"]})]}),p&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,s.jsx)("input",{id:"tags-filter",type:"text",placeholder:"vermifugacao, vacinacao, etc.",value:(null==(a=o.tags)?void 0:a.join(", "))||"",onChange:e=>{let t=e.target.value.split(",").map(e=>e.trim()).filter(e=>e.length>0);i({tags:t.length>0?t:void 0})},className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"limit-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Limite de Resultados"}),(0,s.jsxs)("select",{id:"limit-filter",value:o.limit||50,onChange:e=>i({limit:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,s.jsx)("option",{value:10,children:"10 eventos"}),(0,s.jsx)("option",{value:25,children:"25 eventos"}),(0,s.jsx)("option",{value:50,children:"50 eventos"}),(0,s.jsx)("option",{value:100,children:"100 eventos"}),(0,s.jsx)("option",{value:0,children:"Todos"})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Filtros ativos:"}),(0,s.jsx)("br",{}),Object.keys(o).filter(e=>o[e]).length," de 5"]})})]})})]})]}),v&&(0,s.jsx)("div",{className:"py-2 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Carregando eventos..."})]})})]})})}function i(e){let{viewMode:t,selectedDate:a,eventos:o,onEventClick:i,onDateClick:d,onDeleteEvento:c,isLoading:m,filtros:u}=e,[h,x]=(0,r.useState)(null),{calendarDays:g,monthInfo:v}=(0,r.useMemo)(()=>{let e=a.getFullYear(),t=a.getMonth(),s=new Date(e,t,1),r=new Date(e,t+1,0),o=new Date(s);o.setDate(o.getDate()-s.getDay());let i=new Date(o);i.setDate(i.getDate()+41);let n=[],l=new Date(o);for(;l<=i;)n.push(new Date(l)),l.setDate(l.getDate()+1);return{calendarDays:n,monthInfo:{year:e,month:t,firstDay:s,lastDay:r,monthName:s.toLocaleDateString("pt-BR",{month:"long"})}}},[a]),b=(0,r.useMemo)(()=>{let e={};return o.forEach(t=>{let a=new Date(t.data_inicio),s="".concat(a.getFullYear(),"-").concat(a.getMonth(),"-").concat(a.getDate());e[s]||(e[s]=[]),e[s].push(t)}),e},[o]),p=e=>{let t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},j=e=>e.getMonth()===a.getMonth();return"weekly"===t?(0,s.jsx)(n,{selectedDate:a,eventos:o,onEventClick:i,onDateClick:d,isLoading:m}):"daily"===t?(0,s.jsx)(l,{selectedDate:a,eventos:o,onEventClick:i,onDateClick:d,isLoading:m}):m?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,s.jsx)("div",{className:"bg-gray-50 p-4 text-center",children:(0,s.jsx)("div",{className:"h-4 w-8 bg-gray-300 rounded mx-auto"})},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:Array.from({length:42}).map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-2 h-24",children:[(0,s.jsx)("div",{className:"h-4 w-6 bg-gray-300 rounded mb-2"}),(0,s.jsxs)("div",{className:"space-y-1",children:[Math.random()>.7&&(0,s.jsx)("div",{className:"h-3 w-full bg-blue-200 rounded"}),Math.random()>.8&&(0,s.jsx)("div",{className:"h-3 w-3/4 bg-green-200 rounded"})]})]},t))})]})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,s.jsx)("div",{className:"bg-gray-50 p-4 text-center",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e})},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:g.map((e,t)=>{let a=b["".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDate())]||[],r=h&&e.getDate()===h.getDate()&&e.getMonth()===h.getMonth()&&e.getFullYear()===h.getFullYear();return(0,s.jsxs)("div",{className:"bg-white min-h-[120px] p-2 cursor-pointer transition-colors hover:bg-gray-50 ".concat(!j(e)?"text-gray-400 bg-gray-25":""," ").concat(p(e)?"bg-blue-50 border-2 border-blue-200":""," ").concat(r?"bg-blue-50":""),onClick:()=>d(e),onMouseEnter:()=>x(e),onMouseLeave:()=>x(null),children:[(0,s.jsx)("div",{className:"text-sm font-semibold mb-1 ".concat(p(e)?"text-blue-600":j(e)?"text-gray-900":"text-gray-400"),children:e.getDate()}),(0,s.jsxs)("div",{className:"space-y-1",children:[a.slice(0,3).map(e=>(0,s.jsx)("div",{onClick:t=>{t.stopPropagation(),i(e)},className:"text-xs px-2 py-1 rounded truncate cursor-pointer hover:opacity-90 ".concat((e=>{switch(e){case"alta":return"bg-red-500 text-white";case"media":return"bg-yellow-500 text-white";case"baixa":return"bg-green-500 text-white";default:return"bg-blue-500 text-white"}})(e.prioridade)),title:e.evento,children:e.evento},e.id)),a.length>3&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 px-2 py-1 bg-gray-100 rounded",children:["+",a.length-3," mais"]})]})]},t)})}),(0,s.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsxs)("div",{children:[o.length," evento",1!==o.length?"s":""," no m\xeas"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded mr-1"}),(0,s.jsx)("span",{children:"Alta"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded mr-1"}),(0,s.jsx)("span",{children:"M\xe9dia"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded mr-1"}),(0,s.jsx)("span",{children:"Baixa"})]})]})]})})]})}function n(e){let{selectedDate:t,eventos:a,onEventClick:o,onDateClick:i,isLoading:n}=e,l=(0,r.useMemo)(()=>{let e=new Date(t);e.setDate(t.getDate()-t.getDay());let a=[];for(let t=0;t<7;t++){let s=new Date(e);s.setDate(e.getDate()+t),a.push(s)}return a},[t]);return n?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-6 w-32 bg-gray-300 rounded mb-4"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-4",children:Array.from({length:7}).map((e,t)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-20 bg-gray-200 rounded"})]},t))})]})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 bg-gray-50 border-b",children:(0,s.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Semana de ",l[0].toLocaleDateString("pt-BR")," a ",l[6].toLocaleDateString("pt-BR")]})}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:l.map((e,t)=>{let r=a.filter(t=>{let a=new Date(t.data_inicio);return a.getDate()===e.getDate()&&a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()});return(0,s.jsxs)("div",{className:"bg-white p-4 min-h-[200px] cursor-pointer hover:bg-gray-50",onClick:()=>i(e),children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:e.toLocaleDateString("pt-BR",{weekday:"short",day:"numeric"})}),(0,s.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,s.jsx)("div",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs px-2 py-1 bg-blue-500 text-white rounded cursor-pointer hover:opacity-90",children:e.evento},e.id))})]},t)})})]})}function l(e){let{selectedDate:t,eventos:a,onEventClick:r,onDateClick:o,isLoading:i}=e,n=a.filter(e=>{let a=new Date(e.data_inicio);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()});return i?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"h-8 w-48 bg-gray-300 rounded mb-4"}),(0,s.jsx)("div",{className:"space-y-3",children:Array.from({length:3}).map((e,t)=>(0,s.jsx)("div",{className:"h-16 bg-gray-200 rounded"},t))})]})}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 bg-gray-50 border-b",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:t.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[n.length," evento",1!==n.length?"s":""," programado",1!==n.length?"s":""]})]}),(0,s.jsx)("div",{className:"p-6",children:n.length>0?(0,s.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,s.jsx)("div",{onClick:()=>r(e),className:"border border-gray-200 rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition-colors",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-gray-900",children:e.evento}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e.categoria_pet}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded font-medium ".concat("alta"===e.prioridade?"bg-red-100 text-red-800":"media"===e.prioridade?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.prioridade})]})]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.data_inicio).toLocaleDateString("pt-BR")})]})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 10h12m-6-6v6m-6-3h12"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum evento"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"N\xe3o h\xe1 eventos programados para este dia."}),(0,s.jsx)("button",{onClick:()=>o(t),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Criar Evento"})]})})]})}function d(e){let{isOpen:t,onClose:a,evento:o,selectedDate:i,onCreate:n,onUpdate:l,isCreating:d,isUpdating:c}=e,[m,u]=(0,r.useState)({evento:"",categoria_pet:"geral",data_inicio:"",data_fim:"",prioridade:"media",tags:[],observacoes_veterinarias:""}),[h,x]=(0,r.useState)({}),[g,v]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(o?u({evento:o.evento,categoria_pet:o.categoria_pet,data_inicio:new Date(o.data_inicio).toISOString().split("T")[0],data_fim:o.data_fim?new Date(o.data_fim).toISOString().split("T")[0]:"",prioridade:o.prioridade,tags:Array.isArray(o.tags)?o.tags:[],observacoes_veterinarias:""}):u({evento:"",categoria_pet:"geral",data_inicio:i.toISOString().split("T")[0],data_fim:"",prioridade:"media",tags:[],observacoes_veterinarias:""}),x({}),v(""))},[t,o,i]);let b=(e,t)=>{u(a=>({...a,[e]:t})),h[e]&&x(t=>({...t,[e]:""}))},p=()=>{let e=g.trim().toLowerCase();e&&!m.tags.includes(e)&&(u(t=>({...t,tags:[...t.tags,e]})),v(""))},j=async e=>{if(e.preventDefault(),(()=>{let e={};if(m.evento.trim()||(e.evento="Nome do evento \xe9 obrigat\xf3rio"),m.data_inicio||(e.data_inicio="Data de in\xedcio \xe9 obrigat\xf3ria"),m.data_fim&&m.data_inicio){let t=new Date(m.data_inicio);new Date(m.data_fim)<t&&(e.data_fim="Data de fim deve ser posterior \xe0 data de in\xedcio")}return x(e),0===Object.keys(e).length})())try{let e={evento:m.evento.trim(),categoria_pet:m.categoria_pet,data_inicio:m.data_inicio,data_fim:m.data_fim||void 0,prioridade:m.prioridade,tags:m.tags.length>0?m.tags:void 0,observacoes_veterinarias:m.observacoes_veterinarias.trim()||void 0};o?await l(o.id,e):await n(e)}catch(e){console.error("Erro ao salvar evento:",e)}};if(!t)return null;let f=d||c;return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:o?"Editar Evento":"Novo Evento de Sazonalidade"}),(0,s.jsx)("button",{onClick:a,disabled:f,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("form",{onSubmit:j,className:"p-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"evento",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Evento *"}),(0,s.jsx)("input",{id:"evento",type:"text",value:m.evento,onChange:e=>b("evento",e.target.value),placeholder:"ex: Campanha de Vermifuga\xe7\xe3o de Outono",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(h.evento?"border-red-300":"border-gray-300"),disabled:f}),h.evento&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.evento})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"categoria",className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria Pet *"}),(0,s.jsxs)("select",{id:"categoria",value:m.categoria_pet,onChange:e=>b("categoria_pet",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:f,children:[(0,s.jsx)("option",{value:"geral",children:"Geral"}),(0,s.jsx)("option",{value:"cachorro",children:"Cachorro"}),(0,s.jsx)("option",{value:"gato",children:"Gato"}),(0,s.jsx)("option",{value:"pet_exotico",children:"Pet Ex\xf3tico"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"prioridade",className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade *"}),(0,s.jsxs)("select",{id:"prioridade",value:m.prioridade,onChange:e=>b("prioridade",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:f,children:[(0,s.jsx)("option",{value:"baixa",children:"Baixa"}),(0,s.jsx)("option",{value:"media",children:"M\xe9dia"}),(0,s.jsx)("option",{value:"alta",children:"Alta"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"data_inicio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de In\xedcio *"}),(0,s.jsx)("input",{id:"data_inicio",type:"date",value:m.data_inicio,onChange:e=>b("data_inicio",e.target.value),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(h.data_inicio?"border-red-300":"border-gray-300"),disabled:f}),h.data_inicio&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.data_inicio})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"data_fim",className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Fim (opcional)"}),(0,s.jsx)("input",{id:"data_fim",type:"date",value:m.data_fim,onChange:e=>b("data_fim",e.target.value),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(h.data_fim?"border-red-300":"border-gray-300"),disabled:f}),h.data_fim&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.data_fim})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,s.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,s.jsx)("input",{id:"tags",type:"text",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),p())},placeholder:"ex: vermifugacao, vacinacao",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:f}),(0,s.jsx)("button",{type:"button",onClick:p,disabled:!g.trim()||f,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Adicionar"})]}),m.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.tags.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded-md",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>{u(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},disabled:f,className:"ml-2 text-blue-600 hover:text-blue-800 disabled:opacity-50",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"observacoes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es Veterin\xe1rias"}),(0,s.jsx)("textarea",{id:"observacoes",rows:4,value:m.observacoes_veterinarias,onChange:e=>b("observacoes_veterinarias",e.target.value),placeholder:"Informa\xe7\xf5es adicionais sobre o evento, protocolos recomendados, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",disabled:f})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:a,disabled:f,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),(0,s.jsxs)("button",{type:"submit",disabled:f,className:"inline-flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[f&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o?"Atualizar Evento":"Criar Evento"]})]})]})]})})}var c=a(7990);let m=parseInt("10000"),u=(0,c.UU)("https://scbwseltwscuplhnmcyu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNjYndzZWx0d3NjdXBsaG5tY3l1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ1MTYsImV4cCI6MjA2ODg2MDUxNn0.VgC2Oxx0-fjT2B4MljwxH_FUukBAP7TDGP4b50i-PEk");class h{async getAuthToken(){try{let{data:{session:e}}=await u.auth.getSession();return(null==e?void 0:e.access_token)||null}catch(e){return console.error("Erro ao obter token de autentica\xe7\xe3o:",e),null}}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:a="GET",headers:s={},body:r,timeout:o=this.defaultTimeout,requireAuth:i=!0}=t;try{let t,n={"Content-Type":"application/json",...s};if(i){let e=await this.getAuthToken();if(!e)return{success:!1,error:"Token de autentica\xe7\xe3o n\xe3o encontrado",code:"MISSING_AUTH_TOKEN"};n.Authorization="Bearer ".concat(e)}let l=e.startsWith("http")?e:"".concat(this.baseUrl).concat(e),d=new AbortController,c=setTimeout(()=>d.abort(),o),m=await fetch(l,{method:a,headers:n,body:r?JSON.stringify(r):void 0,signal:d.signal});clearTimeout(c);try{t=await m.json()}catch(e){t={success:!1,error:"Erro ao processar resposta do servidor",code:"PARSE_ERROR"}}if(!m.ok)return{...t,success:!1,error:t.error||"Erro HTTP ".concat(m.status),code:t.code||"HTTP_ERROR"};return t}catch(t){if(console.error("Erro na requisi\xe7\xe3o ".concat(a," ").concat(e,":"),t),"AbortError"===t.name)return{success:!1,error:"Timeout da requisi\xe7\xe3o",code:"REQUEST_TIMEOUT"};return{success:!1,error:t.message||"Erro de rede",code:"NETWORK_ERROR"}}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,a){return this.request(e,{...a,method:"POST",body:t})}async put(e,t,a){return this.request(e,{...a,method:"PUT",body:t})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}constructor(e="http://localhost:3000",t=m){this.baseUrl=e.replace(/\/$/,""),this.defaultTimeout=t}}let x=new h;function g(e){let t=new URLSearchParams;Object.entries(e).forEach(e=>{let[a,s]=e;null!=s&&""!==s&&(Array.isArray(s)?t.append(a,s.join(",")):t.append(a,String(s)))});let a=t.toString();return a?"?".concat(a):""}class v{async listarEventos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g(e);return x.get("/api/calendario".concat(t))}async criarEvento(e){return x.post("/api/calendario",e)}async buscarEventoPorId(e){return x.get("/api/calendario/".concat(e))}async atualizarEvento(e,t){return x.put("/api/calendario/".concat(e),t)}async removerEvento(e){return x.delete("/api/calendario/".concat(e))}async obterInsights(){return x.get("/api/calendario/insights")}async obterSugestoes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g(e);return x.get("/api/calendario/sugestoes".concat(t))}async listarPresets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=g(e);return x.get("/api/calendario/presets".concat(t))}async adicionarPreset(e,t){return x.post("/api/calendario/presets",{preset_id:e,personalizacoes:t})}}new v;let b=new v,p=new Map;function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"".concat(e,"-").concat(JSON.stringify(t))}function f(e){let t=p.get(e);return t&&Date.now()-t.timestamp<t.ttl?t.data:(p.delete(e),null)}function y(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5;p.set(e,{data:t,timestamp:Date.now(),ttl:a})}function N(e){for(let t of p.keys())t.includes(e)&&p.delete(t)}let w={success:(e,t)=>{console.log("✅ ".concat(e).concat((null==t?void 0:t.description)?" - ".concat(t.description):""))},error:(e,t)=>{console.error("❌ ".concat(e).concat((null==t?void 0:t.description)?" - ".concat(t.description):""))}};function k(){let[e,t]=(0,r.useState)("monthly"),[a,n]=(0,r.useState)(new Date),[l,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[k,C]=(0,r.useState)(null),{filtros:E,setFiltros:M,resetFiltros:S}=function(){let[e,t]=(0,r.useState)({});return(0,r.useEffect)(()=>{let e=localStorage.getItem("calendario-filters");if(e)try{t(JSON.parse(e))}catch(e){console.warn("Erro ao carregar filtros salvos:",e)}},[]),{filtros:e,setFiltros:(0,r.useCallback)(e=>{t(t=>{let a={...t,...e};try{localStorage.setItem("calendario-filters",JSON.stringify(a))}catch(e){console.warn("Erro ao salvar filtros:",e)}return a})},[]),resetFiltros:(0,r.useCallback)(()=>{t({}),localStorage.removeItem("calendario-filters")},[])}}(),{data:_,isLoading:D,error:L,refetch:T}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[a,s]=(0,r.useState)(void 0),[o,i]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null),d=(0,r.useRef)(null),c=j("eventos",e),m=(0,r.useCallback)(async()=>{if(!1===t.enabled)return;let a=f(c);if(a){s(a),i(!1);return}d.current&&d.current.abort(),d.current=new AbortController;try{i(!0),l(null);let t=await b.listarEventos(e);y(c,t.data.data,3e5),s(t.data.data)}catch(e){e instanceof Error&&"AbortError"!==e.name&&l(e)}finally{i(!1)}},[e,c,t.enabled]);return(0,r.useEffect)(()=>{m()},[m]),{data:a,isLoading:o,error:n,refetch:(0,r.useCallback)(()=>{p.delete(c),m()},[c,m])}}(E),{data:I}=function(){let[e,t]=(0,r.useState)(void 0),[a,s]=(0,r.useState)(!0),[o,i]=(0,r.useState)(null),n=j("insights"),l=(0,r.useCallback)(async()=>{let e=f(n);if(e){t(e),s(!1);return}try{s(!0),i(null);let e=await b.obterInsights();y(n,e.data,6e5),t(e.data)}catch(e){e instanceof Error&&i(e)}finally{s(!1)}},[n]);return(0,r.useEffect)(()=>{l()},[l]),{data:e,isLoading:a,error:o,refetch:l}}(),{data:A}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,a]=(0,r.useState)(void 0),[s,o]=(0,r.useState)(!0),[i,n]=(0,r.useState)(null),l=j("sugestoes",e),d=(0,r.useCallback)(async()=>{let t=f(l);if(t){a(t),o(!1);return}try{o(!0),n(null);let t=await b.obterSugestoes({tipo_negocio:e.tipo_negocio,regiao:e.regiao,limite:e.limite});y(l,t.data,18e5),a(t.data)}catch(e){e instanceof Error&&n(e)}finally{o(!1)}},[e,l]);return(0,r.useEffect)(()=>{d()},[d]),{data:t,isLoading:s,error:i,refetch:d}}({tipo_negocio:"veterinaria",limite:5}),B=function(){let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),n=(0,r.useCallback)(()=>{N("eventos"),N("insights")},[]),l=(0,r.useCallback)(async e=>{try{t(!0);let a=await b.criarEvento(e);return n(),w.success("Evento criado com sucesso!",{description:'"'.concat(a.data.evento,'" foi adicionado ao seu calend\xe1rio')}),a.data}catch(e){throw w.error("Erro ao criar evento",{description:e instanceof Error?e.message:"Erro desconhecido"}),e}finally{t(!1)}},[n]),d=(0,r.useCallback)(async(e,t)=>{try{s(!0);let a=await b.atualizarEvento(e,t),r=j("evento",{id:e});return y(r,a.data),n(),w.success("Evento atualizado com sucesso!",{description:'"'.concat(a.data.evento,'" foi modificado')}),a.data}catch(e){throw w.error("Erro ao atualizar evento",{description:e instanceof Error?e.message:"Erro desconhecido"}),e}finally{s(!1)}},[n]);return{createEvento:l,updateEvento:d,deleteEvento:(0,r.useCallback)(async e=>{try{i(!0),await b.removerEvento(e);let t=j("evento",{id:e});p.delete(t),n(),w.success("Evento removido com sucesso!")}catch(e){throw w.error("Erro ao remover evento",{description:e instanceof Error?e.message:"Erro desconhecido"}),e}finally{i(!1)}},[n]),addPreset:(0,r.useCallback)(async e=>{try{t(!0);let a=await b.adicionarPreset(e.preset_id,e.personalizacoes);return n(),w.success("Evento preset adicionado!",{description:'"'.concat(a.data.evento,'" foi adicionado ao seu calend\xe1rio')}),a.data}catch(e){throw w.error("Erro ao adicionar preset",{description:e instanceof Error?e.message:"Erro desconhecido"}),e}finally{t(!1)}},[n]),isCreating:e,isUpdating:a,isDeleting:o}}(),F=async e=>{try{await B.createEvento(e),c(!1),T()}catch(e){console.error("Erro ao criar evento:",e)}},O=async(e,t)=>{try{await B.updateEvento(e,t),C(null),c(!1),T()}catch(e){console.error("Erro ao atualizar evento:",e)}},z=async e=>{try{await B.deleteEvento(e),T()}catch(e){console.error("Erro ao deletar evento:",e)}};return L?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Erro ao Carregar Calend\xe1rio"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:L.message||"Ocorreu um erro inesperado."}),(0,s.jsxs)("button",{onClick:()=>T(),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Tentar Novamente"]})]})})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,s.jsx)(o,{filtros:E,onFilterChange:e=>{M(e)},onResetFiltros:S,viewMode:e,onViewModeChange:e=>{t(e)},selectedDate:a,onDateChange:n,onCreateEvento:()=>c(!0),onShowPresets:()=>u(!0),onToggleInsights:()=>x(!h),onToggleSugestoes:()=>v(!g),isLoading:D,totalEventos:(null==_?void 0:_.length)||0}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-1 transition-all duration-300 ".concat(h?"mr-80":""),children:(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(i,{viewMode:e,selectedDate:a,eventos:_||[],onEventClick:e=>{C(e),c(!0)},onDateClick:e=>{n(e),c(!0)},onDeleteEvento:z,isLoading:D,filtros:E})})}),h&&(0,s.jsxs)("div",{className:"fixed right-0 top-0 h-full w-80 bg-white shadow-lg z-10 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Insights & Analytics"}),(0,s.jsx)("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Insights em desenvolvimento..."})})]})]}),g&&(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg z-10 p-6 border-t",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Sugest\xf5es Inteligentes"}),(0,s.jsx)("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Sugest\xf5es de IA em desenvolvimento..."})})]})}),(0,s.jsx)(d,{isOpen:l,onClose:()=>{c(!1),C(null)},evento:k,selectedDate:a,onCreate:F,onUpdate:O,isCreating:B.isCreating,isUpdating:B.isUpdating}),m&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Eventos Pr\xe9-cadastrados"}),(0,s.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:(0,s.jsx)("p",{children:"Modal de presets em desenvolvimento..."})})]})})]})}function C(){return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:(0,s.jsxs)("div",{className:"animate-pulse",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"h-8 w-48 bg-gray-300 rounded"}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("div",{className:"h-10 w-24 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-10 w-24 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded"})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex space-x-4",children:[(0,s.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-10 w-28 bg-gray-300 rounded"}),(0,s.jsx)("div",{className:"h-10 w-36 bg-gray-300 rounded"})]})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-gray-200",children:[Array.from({length:7}).map((e,t)=>(0,s.jsx)("div",{className:"bg-gray-50 p-2",children:(0,s.jsx)("div",{className:"h-4 w-12 bg-gray-300 rounded"})},t)),Array.from({length:35}).map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-2 h-24",children:[(0,s.jsx)("div",{className:"h-4 w-6 bg-gray-300 rounded mb-2"}),(0,s.jsxs)("div",{className:"space-y-1",children:[Math.random()>.7&&(0,s.jsx)("div",{className:"h-3 w-full bg-blue-200 rounded"}),Math.random()>.8&&(0,s.jsx)("div",{className:"h-3 w-3/4 bg-green-200 rounded"})]})]},t))]})})})]})})}function E(e){let{error:t,onRetry:a}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full mx-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Erro no Calend\xe1rio de Sazonalidades"}),(0,s.jsx)("p",{className:"text-gray-600 mb-2",children:"N\xe3o foi poss\xedvel carregar os dados do calend\xe1rio."}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:t.message}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,s.jsxs)("button",{onClick:a,className:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Tentar Novamente"]}),(0,s.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Recarregar P\xe1gina"]})]})]})})})}}},e=>{e.O(0,[990,347,508,358],()=>e(e.s=2889)),_N_E=e.O()}]);